# [*Open***BSD**](https://www.openbsd.org/index.html) <span style="color: red;">FAQ - X 窗口系统</span>

---

- <a href="#Intro">X 简介</a>
- <a href="#ConfigX">配置 X</a>
- <a href="#StartingX">启动 X</a>
- <a href="#CustomizingX">自定义 X</a>

---

<h2 id="Intro">X 简介</h2>

X 窗口系统（有时简称 "X"）是为 OpenBSD 和其他类 Unix 系统提供图形服务的环境。X 本身提供的功能很少，因为还必须有一个窗口管理器来呈现用户界面。OpenBSD 附带了 <a href="https://man.openbsd.org/cwm">cwm(1)</a>、<a href="https://man.openbsd.org/fvwm">fvwm(1)</a> 和 <a href="https://man.openbsd.org/twm">twm(1)</a> 窗口管理器，尽管还有许多其他的可以通过<a href="./04_package.md">软件包</a>获得。

在没有任何图形支持的系统上运行 X 客户端是可能的。例如，可以让一个应用程序（X 客户端）在 ARM 系统上运行，而在 amd64 的图形显示器（X 服务器）上显示其输出。由于 X 是一个定义明确的跨平台协议，甚至可以让运行在 Linux 机器上的 X 应用程序使用 OpenBSD 机器进行显示。客户端和服务器也可以运行在同一台机器上，本节的大部分内容都将基于此假设。

<h2 id="ConfigX">配置 X</h2>

对于最常见平台上的大多数硬件，X 根本不需要配置。

手动配置 X 的细节因平台而异。

<h2 id="StartingX">启动 X</h2>

推荐运行 X 的方式是使用 <a href="https://man.openbsd.org/xenodm">xenodm(1)</a> 显示管理器。与传统的 <a href="https://man.openbsd.org/startx">startx(1)</a> 命令相比，它提供了一些重要的安全优势。

如果在安装过程中没有启用 <a href="https://man.openbsd.org/xenodm">xenodm(1)</a>，以后可以像任何其他系统守护进程一样启用它：

```shell
# rcctl enable xenodm
# rcctl start xenodm
```

在某些平台上，你需要禁用控制台 <a href="https://man.openbsd.org/getty">getty(8)</a> 才能使用它。在 amd64、i386 或 macppc 上不需要这样做。

<h2 id="CustomizingX">自定义 X</h2>

OpenBSD 默认的 X 环境功能齐全，但你可能希望对其进行自定义。当 X 会话启动时，用户主目录中的 shell 脚本可用于启动任意数量的程序。这些脚本中的大多数程序应该在后台运行，但最后一个程序（通常是窗口管理器）应该在前台运行。当窗口管理器退出时，脚本也将退出，X 将返回到 <a href="https://man.openbsd.org/xenodm">xenodm(1)</a> 登录提示符。

用户从 <a href="https://man.openbsd.org/xenodm">xenodm(1)</a> 登录后，`/etc/X11/xenodm/Xsession` 脚本会检查是否存在 `$HOME/.xsession` 脚本。在最简单的情况下，用户的 `~/.xsession` 脚本将只包含一行，指定要启动的首选窗口管理器。但是，它可以包含任意数量的其他命令：

```shell
export ENV=$HOME/.kshrc
xsetroot -solid grey &
xterm -bg black -fg white +sb &
cwm
```

请注意，窗口管理器 <a href="https://man.openbsd.org/cwm">cwm(1)</a> *没有* 在后台运行。这意味着 X 将保持运行直到它退出。
