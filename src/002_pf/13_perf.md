## [*Open***BSD**](https://www.openbsd.org/index.html) <span style="color: red;">PF - 性能</span>

### "PF 能处理多大的带宽？"

### "处理我的互联网连接需要多大的计算能力？"

这些问题没有简单的答案。对于简单的家庭连接，大多数硬件应该绰绰有余。其他应用程序可能需要具有高端网卡的更快机器。PF 被用于一些非常大、高流量的应用程序中，并且开发人员本身就是 PF 的高级用户。对于大多数人来说，它很可能表现得非常好。

PF 的性能由几个变量决定：

- **每秒数据包数**。
  处理一个具有 1500 字节有效载荷的数据包与处理一个具有 1 个字节有效载荷的数据包所需的处理量几乎相同。每秒数据包的数量决定了状态表和过滤规则每秒必须评估的次数，从而决定了对系统的有效需求。

- **网卡的效率**。
  有些网络适配器就是比其他的更有效率。较旧的 <a href="https://man.openbsd.org/rl">rl(4)</a> 网卡往往性能较差，而 <a href="https://man.openbsd.org/ix">ix(4)</a> 网卡往往性能非常好。

- **规则集的复杂性和设计**。
  对每个数据包评估的行数越多，性能就越慢。被 `quick` 规则过滤的数据包越多，性能就越好。

- **几乎不值一提：CPU 和 RAM**。
  由于 PF 是基于内核的进程，它不会使用交换空间。所以，如果系统有足够的 RAM，它就可以运行。如果没有，它会因 <a href="https://man.openbsd.org/pool">pool(9)</a> 耗尽而崩溃 (panic)。不需要大量的 RAM。
